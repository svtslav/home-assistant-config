title: "Home Assistant"
views:
  - title: "Главная"
    icon: mdi:memory
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: gauge
                name: "Загрузка CPU"
                unit: "%"
                min: 0
                max: 100
                entity: sensor.processor_use
                severity:
                  green: 0
                  yellow: 60
                  red: 85
              - type: sensor
                entity: sensor.maria_db_size
                name: "Размер БД"
          - type: horizontal-stack
            cards:
              - type: gauge
                name: "Входящая скорость"
                unit: "Мбит/сек"
                entity: sensor.asuswrt_download_speed
              - type: gauge
                name: "Исходящая скорость"
                unit: "Мбит/сек"
                entity: sensor.asuswrt_upload_speed
      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: gauge
                name: "Загрузка RAM"
                unit: "%"
                min: 0
                max: 100
                entity: sensor.memory_use_percent
                severity:
                  green: 0
                  yellow: 60
                  red: 85
              - type: horizontal-stack
                cards:
                  - type: sensor
                    entity: sensor.memory_use
                    name: "Используется"
                  - type: sensor
                    entity: sensor.memory_free
                    name: "Свободно"
          - type: vertical-stack
            cards:
              - type: gauge
                name: "Загрузка диска"
                unit: "%"
                min: 0
                max: 100
                entity: sensor.disk_use_percent
                severity:
                  green: 0
                  yellow: 60
                  red: 85
              - type: horizontal-stack
                cards:
                  - type: sensor
                    entity: sensor.disk_use
                    name: "Занято"
                  - type: sensor
                    entity: sensor.disk_free
                    name: "Свободно"

  - title: "Устройства"
    cards:
      - type: vertical-stack
        cards:
          - type: glance
            title: "Датчики"
            entities:
              - binary_sensor.xiaomi_contact_sensor_0x00158d00039882bf1_contact
          - type: horizontal-stack
            cards:
              - type: light
                entity: light.table_lamp
                name: Настольная лампа
              - type: light
                entity: light.floor_lamp
                name: Торшер

      - type: horizontal-stack
        cards:
          - type: grid
            title: "Проектор"
            columns: 1
            cards:
              - type: media-control
                entity: media_player.wanbo_projector_chromecast
              - type: media-control
                entity: media_player.spotify_svtslav

          - type: grid
            title: "Приложения"
            columns: 2
            cards:
              - type: button
                entity: script.projector_run_kinopoisk
                name: "Кинопоиск"
                icon: mdi:video-minus
                tap_action:
                  action: toggle

              - type: button
                entity: script.projector_run_wink
                name: "Wink"
                icon: mdi:video-minus
                tap_action:
                  action: toggle

  - title: "Камеры"
    cards:
      - type: grid
        title: "Подъезд"
        columns: 2
        square: false
        cards:
          - type: picture-entity
            name: "Вход в подъезд"
            camera_image: camera.main_entrance
            camera_view: live
            entity: camera.main_entrance
            show_state: false

          - type: picture-entity
            name: "Домофон (подъезд)"
            camera_image: camera.intercom_lobby_entrance
            camera_view: live
            entity: camera.intercom_lobby_entrance
            show_state: false

          - type: picture-entity
            name: "Лобби"
            camera_image: camera.lobby
            camera_view: live
            entity: camera.lobby
            show_state: false

          - type: picture-entity
            name: "Лифты"
            camera_image: camera.lobby_elevators
            camera_view: live
            entity: camera.lobby_elevators
            show_state: false

      - type: grid
        title: "Паркинг"
        columns: 2
        square: false
        cards:
          - type: picture-entity
            name: "Лифты (-2 этаж)"
            camera_image: camera.parking_elevators
            camera_view: auto
            entity: camera.parking_elevators
            show_state: false

          - type: picture-entity
            name: Паркинг
            camera_image: camera.parking
            camera_view: auto
            entity: camera.parking
            show_state: false

      - type: grid
        title: "Двор"
        columns: 2
        square: false
        cards:
          - type: picture-entity
            name: "3 корпус"
            camera_image: camera.courtyard_3_building
            camera_view: auto
            entity: camera.courtyard_3_building
            show_state: false

          - type: picture-entity
            name: "1 корпус"
            camera_image: camera.courtyard_1_building
            camera_view: auto
            entity: camera.courtyard_1_building
            show_state: false

          - type: picture-entity
            name: "Детская площадка"
            camera_image: camera.playground
            camera_view: auto
            entity: camera.playground
            show_state: false

  - title: "Счётчики"
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            title: "Электричество"
            cards:
              - type: entities
                entities:
                  - sensor.domyland_electricity_gauge_number
                  - sensor.domyland_electricity_last_calibration_date
                  - sensor.domyland_electricity_next_calibration_date
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: gauge
                    name: "T1 (пик)"
                    unit: "КВт/ч"
                    entity: sensor.domyland_electricity_t1_value
                  - type: sensor
                    name: "Расход T1 (пик)"
                    unit: "КВт/ч"
                    entity: sensor.domyland_electricity_t1_delta
                  - type: sensor
                    name: "Итого T1 (пик)"
                    unit: "руб."
                    entity: sensor.domyland_electricity_t1_total
              - type: vertical-stack
                cards:
                  - type: gauge
                    name: "T2 (ночь)"
                    unit: "КВт/ч"
                    entity: sensor.domyland_electricity_t2_value
                  - type: sensor
                    name: "Расход T2 (ночь)"
                    unit: "КВт/ч"
                    entity: sensor.domyland_electricity_t2_delta
                  - type: sensor
                    name: "Итого T2 (ночь)"
                    unit: "руб."
                    entity: sensor.domyland_electricity_t2_total
              - type: vertical-stack
                cards:
                  - type: gauge
                    name: "T3 (п/пик)"
                    unit: "КВт/ч"
                    entity: sensor.domyland_electricity_t3_value
                  - type: sensor
                    name: "Расход T3 (п/пик)"
                    unit: "КВт/ч"
                    entity: sensor.domyland_electricity_t3_delta
                  - type: sensor
                    name: "Итого T3 (п/пик)"
                    unit: "руб."
                    entity: sensor.domyland_electricity_t3_total
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - sensor.domyland_electricity_last_check
                  - sensor.domyland_electricity_last_submit
                  - sensor.domyland_electricity_t1_tariff
                  - sensor.domyland_electricity_t2_tariff
                  - sensor.domyland_electricity_t3_tariff
                  - sensor.domyland_electricity_total

      - type: vertical-stack
        cards:
          - type: horizontal-stack
            title: "Отопление"
            cards:
              - type: entities
                entities:
                  - sensor.domyland_heating_gauge_number
                  - sensor.domyland_heating_last_calibration_date
                  - sensor.domyland_heating_next_calibration_date
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: gauge
                    name: "Отопление"
                    unit: "ГКал"
                    entity: sensor.domyland_heating_value
                  - type: sensor
                    name: "Расход"
                    unit: "ГКал"
                    entity: sensor.domyland_heating_delta
                  - type: sensor
                    name: "Итого"
                    unit: "руб."
                    entity: sensor.domyland_heating_total
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - sensor.domyland_heating_last_check
                  - sensor.domyland_heating_last_submit
                  - sensor.domyland_heating_tariff
                  - sensor.domyland_heating_total

      - type: vertical-stack
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                title: "Холодная вода"
                cards:
                  - type: entities
                    entities:
                      - sensor.domyland_water_cold_gauge_number
                      - sensor.domyland_water_cold_last_calibration_date
                      - sensor.domyland_water_cold_next_calibration_date
              - type: horizontal-stack
                cards:
                  - type: vertical-stack
                    cards:
                      - type: gauge
                        name: "Холодная вода"
                        unit: "м³"
                        entity: sensor.domyland_water_cold_value
                      - type: sensor
                        name: "Расход"
                        unit: "м³"
                        entity: sensor.domyland_water_cold_delta
                      - type: sensor
                        name: "Итого"
                        unit: "руб."
                        entity: sensor.domyland_water_cold_total
              - type: horizontal-stack
                cards:
                  - type: entities
                    entities:
                      - sensor.domyland_water_cold_last_check
                      - sensor.domyland_water_cold_last_submit
                      - sensor.domyland_water_cold_tariff
                      - sensor.domyland_water_cold_total

          - type: vertical-stack
            cards:
              - type: horizontal-stack
                title: "Горячая вода"
                cards:
                  - type: entities
                    entities:
                      - sensor.domyland_water_hot_gauge_number
                      - sensor.domyland_water_hot_last_calibration_date
                      - sensor.domyland_water_hot_next_calibration_date
              - type: horizontal-stack
                cards:
                  - type: vertical-stack
                    cards:
                      - type: gauge
                        name: "Горячая вода"
                        unit: "м³"
                        entity: sensor.domyland_water_hot_value
                      - type: sensor
                        name: "Расход"
                        unit: "м³"
                        entity: sensor.domyland_water_hot_delta
                      - type: sensor
                        name: "Итого"
                        unit: "руб."
                        entity: sensor.domyland_water_hot_total
              - type: horizontal-stack
                cards:
                  - type: entities
                    entities:
                      - sensor.domyland_water_hot_last_check
                      - sensor.domyland_water_hot_last_submit
                      - sensor.domyland_water_hot_tariff
                      - sensor.domyland_water_hot_total

              - type: vertical-stack
                cards:
                  - type: horizontal-stack
                    title: "Водоотведение"
                    cards:
                      - type: vertical-stack
                        cards:
                          - type: gauge
                            name: "Водоотведение"
                            unit: "м³"
                            entity: sensor.domyland_water_drainage_value
                          - type: sensor
                            name: "Расход"
                            unit: "м³"
                            entity: sensor.domyland_water_drainage_delta
                          - type: sensor
                            name: "Итого"
                            unit: "руб."
                            entity: sensor.domyland_water_drainage_total
                  - type: horizontal-stack
                    cards:
                      - type: entities
                        entities:
                          - sensor.domyland_water_drainage_tariff
                          - sensor.domyland_water_drainage_total
